---
/**
 * Portfolio Card Component - Level Garment
 * Individual portfolio item card with hover effects
 */

export interface Props {
  name: string;
  slug: string;
  category: string;
  image: string;
  description: string;
  materials?: string[];
  year?: string;
}

const { name, slug, category, image, description, materials = [], year } = Astro.props;

// Format category display
const categoryDisplay = category.charAt(0).toUpperCase() + category.slice(1);
---

<a
  href={`/portfolio/${slug}/`}
  data-category={category}
  class="portfolio-card group block bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1"
>
  <!-- Image Container -->
  <div class="relative overflow-hidden aspect-[4/3] bg-gray-100">
    <img
      src={image}
      alt={`Portfolio ${name}`}
      class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
      loading="lazy"
      width="400"
      height="300"
    />
    <!-- Category Badge -->
    <div class="absolute top-4 left-4">
      <span class="inline-block px-3 py-1 bg-primary/90 text-white text-sm font-medium rounded-full backdrop-blur-sm">
        {categoryDisplay}
      </span>
    </div>
    <!-- Year Badge -->
    {year && (
      <div class="absolute top-4 right-4">
        <span class="inline-block px-3 py-1 bg-white/90 text-gray-700 text-sm font-medium rounded-full backdrop-blur-sm">
          {year}
        </span>
      </div>
    )}
    <!-- Overlay -->
    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
  </div>

  <!-- Content -->
  <div class="p-6">
    <h3 class="text-lg font-bold text-gray-800 mb-2 group-hover:text-primary transition-colors line-clamp-2">
      {name}
    </h3>
    <p class="text-gray-600 text-sm mb-4 line-clamp-2">
      {description}
    </p>

    <!-- Materials -->
    {materials.length > 0 && (
      <div class="flex flex-wrap gap-2 mb-4">
        {materials.slice(0, 3).map((material) => (
          <span class="inline-block px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md">
            {material}
          </span>
        ))}
        {materials.length > 3 && (
          <span class="inline-block px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md">
            +{materials.length - 3}
          </span>
        )}
      </div>
    )}

    <!-- CTA -->
    <div class="flex items-center text-primary font-semibold text-sm group-hover:gap-2 transition-all">
      <span>Lihat Detail</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </div>
  </div>
</a>

<style>
  .portfolio-card {
    font-family: 'Poppins', 'Inter', sans-serif;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
